<%= render 'form', locals: { step: step, steps: @steps } do |f| %>
  <%= render "podcast_steps/progress_bar", wizard_steps: @steps %>
  <div class="bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden p-6">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <%= f.label :release_date, "Scheduled Release Date", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.date_field :release_date, class: "w-full rounded-lg border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500" %>
      </div>
      <div>
        <%= f.label :format, "Episode Format", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.select :format,
            options_for_select(Episode::FORMAT_OPTIONS.map { |o| [o, o] }, @episode.format),
            { prompt: 'Select format' },
            { class: "w-full rounded-lg border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500" } %>
      </div>
    </div>
    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 gap-6">
      <div>
        <%= f.label :guests, "Guests (comma-separated)", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.text_field :guests, class: "w-full rounded-lg border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500", placeholder: "Jane Doe, John Smith" %>
      </div>
      <div>
        <%= f.label :links, "Links (comma-separated)", class: "block text-sm font-medium text-gray-700 mb-2" %>
        <%= f.text_field :links, class: "w-full rounded-lg border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500", placeholder: "https://example.com, https://twitter.com/handle" %>
      </div>
    </div>
    <div class="mt-6">
      <%= f.label :notes, "Production Notes", class: "block text-sm font-medium text-gray-700 mb-2" %>
      <%= f.text_area :notes, rows: 3, class: "w-full rounded-lg border-gray-300 shadow-sm focus:border-orange-500 focus:ring-orange-500", placeholder: "Any additional notes for the production team..." %>
      <% if @episode.errors[:notes].any? %>
        <p class="mt-1 text-sm text-red-600"><%= @episode.errors[:notes].join(", ") %></p>
      <% end %>
    </div>
  </div>
  <%= render "episode_steps/pagination", f: f, step: step %>
<% end %>
